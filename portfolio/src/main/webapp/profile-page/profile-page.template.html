<div>
<link href="style.css" rel="stylesheet" />
<p ng-show='profileCtrl.loadingInfo'>Loading...</p> 

<div ng-show='!profileCtrl.loadingInfo'>

    <div ng-show='profileCtrl.isLoggedIn() && profileCtrl.userInfo.nickname'>
        <p class = "descriptionText">Hello {{profileCtrl.userInfo.nickname}}!</p>
        <p style="color:#28536B">Your Email: {{profileCtrl.userInfo.email}}</p>
        <p style="color:#28536B">Your Nickname: {{profileCtrl.userInfo.nickname}}</p>

        <div class = "descriptionText" >
            <p>Update your nickname here:</p>
            <form method="post" action="/user-info">
                <input name='nickname' type='text'/>
                <button>Submit</button>
            </form>
        </div>
    <br></br>
        <div>
            <p class = "descriptionText">Reviews left by {{profileCtrl.userInfo.nickname}}:</p>
            <li  ng-repeat="book in profileCtrl.correspondingBooks">
                   <a style="color:#28536B" ng-href="#!/book-detail/{{book.isbn}}"/>{{book.title}}</a>
                    </br></br>
                    <div class="card cardColors mb-3">
                        <div class="card-body">
                            <p> {{book.userReview}}</p>
                        </div>
                    </div>    
            </li>
        </div>
    </div>

    <div ng-show='profileCtrl.isLoggedIn() && !profileCtrl.userInfo.nickname'>
        <p>Hello!</p>
        <p>Your Email: {{profileCtrl.userInfo.email}}</p>

        <div>
            <p>Set your nickname here to save your info:</p>
            <form method="post" action="/user-info">
                <input name='nickname' type='text'/>
                <button>Submit</button>
            </form>
        </div>
    </div>

    <div ng-show='!profileCtrl.isLoggedIn()'>
        <p>Hello!</p>
        <p>You have not logged in yet, log in above to view your data</p> 
    </div>

</div>
</div>
